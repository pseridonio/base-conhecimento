# Descripción General de Amazon EC2

## Introducción a Amazon EC2
- **Amazon EC2 (Elastic Compute Cloud)** es un servicio web que proporciona capacidad de cómputo segura y redimensionable en la nube.
- Puedes aprovisionar servidores virtuales llamados **instancias EC2**.
- **Beneficios clave:**
  - Lanzar instancias EC2 rápidamente.
  - Potencia de cómputo segura y escalable.

## Características Clave de Amazon EC2
- **Aprovisionamiento y Lanzamiento:**
  - Lanzar una o más instancias EC2 en minutos.
- **Detener o Apagar:**
  - Las instancias pueden ser detenidas o terminadas cuando las cargas de trabajo estén completas.
- **Pago Flexible:**
  - Paga por hora o por segundo (mínimo 60 segundos).
- **Opciones de Gestión:**
  - Gestiona instancias EC2 a través de:
    - AWS Management Console
    - AWS CLI
    - AWS SDKs
    - Herramientas de automatización
    - Servicios de orquestación de infraestructura

## Creando una Instancia EC2
Para crear una instancia EC2, debes definir lo siguiente:

1. **Especificaciones de Hardware:**
   - CPU
   - Memoria
   - Red
   - Almacenamiento
2. **Configuraciones Lógicas:**
   - Ubicación de red
   - Reglas de firewall
   - Configuraciones de autenticación
   - Sistema operativo de tu elección

## Configurando EC2
- **Configuraciones de la Instancia:**
  - Elige el tipo de instancia, red y almacenamiento para crear tu instancia EC2.
- **Ejemplo de Aplicación:**
  - Para aplicaciones como el **directorio de empleados**, selecciona instancias con suficiente capacidad para procesar solicitudes de clientes.
  - El tamaño de la instancia depende de:
    - Las demandas de tu aplicación
    - El tamaño anticipado de tu base de usuarios
- **Ventajas de la Nube vs On-Premises:**
  - **On-Premises:** Prever la capacidad del servidor requiere decisiones difíciles y gastos de capital significativos.
  - **Basado en la Nube:** Los cambios de asignación pueden hacerse fácilmente con una simple **llamada de API**.
  - El **modelo de pago por uso** de AWS te permite ajustar la capacidad de la infraestructura a la demanda de la aplicación, evitando el sobreaprovisionamiento desperdiciado.

## Imágenes de Máquina de Amazon (AMIs)
- **Definición:**
  - Al lanzar una instancia EC2, la primera configuración que defines es el sistema operativo seleccionando una **Imagen de Máquina de Amazon (AMI)**.
- **Tradicional vs Nube:**
  - En la infraestructura tradicional, iniciar un servidor requiere la instalación manual del sistema operativo.
  - En la Nube AWS, la instalación del sistema operativo se maneja a través de la AMI elegida.
- **Componentes de la AMI:**
  - Sistema operativo
  - Mapeo de almacenamiento
  - Tipo de arquitectura
  - Permisos de lanzamiento
  - Aplicaciones de software preinstaladas
- **Encontrando AMIs:**
  - Hay múltiples maneras de seleccionar una AMI:
    1. **AMIs de Inicio Rápido**:
       - AMIs comúnmente usadas creadas por AWS para configuración rápida.
    2. **AMIs del AWS Marketplace**:
       - Software popular de código abierto y comercial proporcionado por terceros.
    3. **Mis AMIs**:
       - AMIs personalizadas creadas a partir de tus instancias EC2.
    4. **AMIs de la Comunidad**:
       - AMIs proporcionadas por la comunidad de usuarios de AWS.
    5. **Imágenes Personalizadas**:
       - AMIs personalizadas creadas usando el **EC2 Image Builder**.
  - **IDs de AMI**:
    - Cada AMI en el AWS Management Console tiene un **ID de AMI**, prefijado por `ami-`, seguido por un hash aleatorio de números y letras.
    - Los IDs de AMI son únicos para cada Región AWS.

## Relación entre AMIs e Instancias EC2
- **Relación Conceptual:**
  - Las instancias EC2 son **instanciaciones en vivo** de lo que se define en una AMI:
    - Comparable a un pastel siendo la instanciación en vivo de una receta de pastel.
    - En términos de software, una AMI es la **clase**, y una instancia EC2 es el **objeto**.
  - Al lanzar una instancia:
    - AWS asigna una máquina virtual que se ejecuta en un **hipervisor**.
    - La AMI se copia al **volumen del dispositivo raíz**, proporcionando la imagen utilizada para iniciar la instancia.
    - Puedes conectarte al servidor, instalar paquetes y desplegar aplicaciones (por ejemplo, un servidor web con un directorio de empleados).
- **Reutilización de AMIs:**
  - Usa una AMI basada en Linux para configurar un servidor HTTP, paquetes de aplicaciones y software adicional.
  - Crea nuevas instancias con configuraciones idénticas por:
    - Configurando manualmente una nueva instancia.
    - Creando una AMI a partir de una instancia existente y reutilizándola.
  - Puedes crear AMIs a partir de instancias **en ejecución** o **detenidas** para lanzar nuevas instancias preconfiguradas.

## Tipos de Instancia de Amazon EC2
- Las instancias EC2 son una combinación de:
  - **vCPUs**, memoria, red, almacenamiento de instancia y GPUs (opcional).
- **Descripción General de los Tipos de Instancia:**
  - AWS ofrece instancias con capacidades de rendimiento variadas.
  - Los tipos de instancia consisten en:
    - **Prefijo**: Tipo de cargas de trabajo optimizadas (por ejemplo, cómputo).
    - **Generación**: Indica la versión (por ejemplo, 5ª generación).
    - **Atributos Adicionales**: Características específicas (por ejemplo, almacenamiento NVMe).
    - **Tamaño**: Capacidad (por ejemplo, xlarge).
  - Ejemplo: Desglose de `c5n.xlarge`:
    - `c`: Familia optimizada para cómputo.
    - `5`: Quinta generación.
    - `n`: Atributo de almacenamiento NVMe local.
    - `xlarge`: Tamaño de la instancia.
- **Familias de Instancias:**
  - Las familias están optimizadas para varias cargas de trabajo (por ejemplo, gráficos, uso general, optimizado para memoria).

## Ubicaciones de Instancias EC2
- **VPC Predeterminada:**
  - Las instancias EC2 se lanzan en una **Virtual Private Cloud (VPC)** predeterminada, a menos que se especifique lo contrario.
  - La VPC predeterminada es adecuada para configuración rápida e instancias EC2 públicas.
  - Los recursos en la VPC predeterminada son **públicos** y accesibles a través de internet.
  - **Mejor Práctica:**
    - Evita colocar datos sensibles o información de clientes en la VPC predeterminada.
    - Usa VPCs personalizadas con acceso restringido para mejorar la seguridad y el control de la red.

## Alta Disponibilidad
- **Arquitectura para Alta Disponibilidad:**
  - Las instancias residen en una **Zona de Disponibilidad** de tu elección.
  - Los servicios de AWS con alcance a nivel de Zona de Disponibilidad deben ser diseñados para alta disponibilidad.
  - **Recomendaciones:**
    - Usa múltiples instancias:
      - Dos son mejores que una, y tres son mejores que dos.
      - Las instancias más pequeñas pueden ser más efectivas que menos instancias grandes.
    - Ejemplo:
      - Si una sola instancia de frontend falla, la aplicación se cae.
      - Si las cargas de trabajo están distribuidas en 10 instancias y una falla, solo **10% de la flota** se ve afectada.
  - Para alta disponibilidad, usa al menos **dos instancias EC2 en dos Zonas de Disponibilidad separadas**.

## AWS Well-Architected Framework y Pilar de Confiabilidad
- El **AWS Well-Architected Framework** se construye sobre **seis pilares**:
  - **Excelencia Operacional**, **Seguridad**, **Confiabilidad**, **Eficiencia de Rendimiento**, **Optimización de Costos** y **Sostenibilidad**.
- **Descripción General del Pilar de Confiabilidad:**
  - Se enfoca en construir arquitecturas con:
    - Fundamentos sólidos.
    - Diseños resilientes.
    - Gestión de cambios consistente.
    - Procesos probados de recuperación de fallas.
  - Aborda desafíos de entornos tradicionales on-premises:
    - Elimina puntos únicos de falla.
    - Proporciona elasticidad.
    - Automatiza procesos para responder a demandas cambiantes.
- **Gestión de Fallas:**
  - Incorpora mecanismos de recuperación de fallas y soluciones de monitoreo proactivo.
  - Usa estrategias de **respaldo y recuperación ante desastres** para garantizar la confiabilidad del sistema.

## Tipos y Tamaños de Instancia
- Configura instancias EC2 por **tipo** y **tamaño** para cumplir con los requisitos de hardware:
  - Tipos agrupados según **casos de uso**:
    - **Optimizado para cómputo**, **optimizado para memoria**, **optimizado para almacenamiento**, etc.
  - Familias de ejemplo:
    - **Familia de instancias G**: Optimizada para **aplicaciones intensivas en gráficos** (por ejemplo, visualizaciones 3D, codificación de video).
    - **Familia de Uso General M5**: Recursos balanceados adecuados para aplicaciones como **servidores web**.
  - Ejemplos de tipos de instancia:
    - **T3.medium**, **A1.nano**, etc.
- Las instancias pueden ser **redimensionadas** según sea necesario:
  - Cambia tipos o tamaños programáticamente a través de **API** o **AWS Management Console**.

## Flexibilidad y Control
- Las instancias EC2 proporcionan **flexibilidad y control** en la nube.
- Las instancias pueden ser aprovisionadas fácilmente, y el pago se basa en el uso:
  - **Por segundo** o **por hora**, dependiendo del tipo de instancia.
- Las instancias pueden ser **terminadas** o **detenidas** para evitar incurrir en cargos.
- AWS soporta una variedad de sistemas operativos:
  - **Linux**, **MacOS**, **Ubuntu**, **Windows**, y más.

## Impacto en el Negocio
- EC2 permite la experimentación rápida con instancias **de bajo costo** y **flexibles**.
- Opciones de optimización:
  - Selecciona el **tipo de instancia** y **tamaño** correctos.
  - Evita el sobreaprovisionamiento de recursos.
- Beneficios en comparación con hardware on-premises:
  - Sin restricciones de hardware anticipadas.
  - Configuraciones adaptables a través de llamadas de API.
- Fomenta **innovación** y **agilidad** en las operaciones comerciales.

## Recursos
Para más información, consulta los siguientes recursos:
- **[Sitio web de AWS: Amazon EC2](https://aws.amazon.com/ec2/)**
- **[Guía del usuario de AWS: Imágenes de Máquina de Amazon (AMI)](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AMIs.html)**
- **[Guía del usuario de AWS: Crear una AMI Linux con soporte EBS](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/creating-an-ami-ebs.html)**
- **[Guía del usuario de AWS: ¿Qué es EC2 Image Builder?](https://docs.aws.amazon.com/imagebuilder/latest/userguide/what-is-image-builder.html)**
- **[Guía del usuario de AWS: VPCs Predeterminadas](https://docs.aws.amazon.com/vpc/latest/userguide/default-vpc.html)**
- **[Whitepaper de AWS: Pilar de Confiabilidad - AWS Well-Architected Framework](https://docs.aws.amazon.com/wellarchitected/latest/reliability-pillar/welcome.html?ref=wellarchitected-wp)**
